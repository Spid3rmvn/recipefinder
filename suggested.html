<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Suggested Recipe</title>
  <link rel="stylesheet" href="recipe.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navigation Links -->
  <nav>
    <a href="index.html" class="nav-link">Home</a>
    <a href="favorites.html" class="nav-link">Favorites</a>
  </nav>

  <!-- Main Content Container -->
  <div class="container">
    <h1>Suggested Recipe</h1>
    <p id="loadingMessage">Loading your suggested recipe...</p>
    <div id="loadingSpinner" style="display:none;">
      <img src="spinner.gif" alt="Loading...">
    </div>

    <!-- Area to display the random recipe -->
    <div id="randomRecipe"></div>
  </div>

  <script>
    // Function to fetch and display a random recipe
    const getRandomRecipe = async () => {
      const url = 'https://www.themealdb.com/api/json/v1/1/random.php';
      try {
        document.getElementById('loadingSpinner').style.display = 'block';
        const response = await fetch(url);
        const data = await response.json();
        const recipe = data.meals[0];

        if (recipe) {
          document.getElementById('randomRecipe').innerHTML = `
            <h2>${recipe.strMeal}</h2>
            <img src="${recipe.strMealThumb}" alt="${recipe.strMeal}">
            <p><a href="https://www.themealdb.com/meal/${recipe.idMeal}" target="_blank">View Full Recipe</a></p>
          `;
        } else {
          document.getElementById('randomRecipe').innerHTML = '<p>No recipe found. Please try again later.</p>';
        }
      } catch (error) {
        console.error('Error fetching random recipe:', error);
        document.getElementById('randomRecipe').innerHTML = '<p>There was an error fetching the recipe. Please try again later.</p>';
      } finally {
        document.getElementById('loadingSpinner').style.display = 'none';
      }
    };

    // Fetch a random recipe when the page loads
    window.addEventListener('load', getRandomRecipe);
  </script>
</body>
</html>
